paths:
  csv_path: traffic_weather_2025_engineered.csv  # Use engineered dataset
  output_dir: experiments/run01_engineered

data:
  numerical_features:
    # Original features
    - length
    - max_velocity
    - temperature_2m
    - dew_point_2m
    - relative_humidity_2m
    - wind_speed_10m
    - wind_direction_10m
    - wind_gusts_10m
    - rain
    - apparent_temperature
    - pressure_msl
    - surface_pressure
    - sunshine_duration
    - soil_temperature_0_to_7cm
    - soil_moisture_0_to_7cm
    - cloud_cover
    - cloud_cover_low
    - cloud_cover_mid
    - cloud_cover_high
    
    # Speed-derived features
    - speed_ratio
    - speed_ratio_freeflow
    - is_congested
    - speed_deficit
    - relative_speed
    
    # Temporal cyclical features (sin/cos encodings)
    # Optimized for single-month data
    - hour_sin
    - hour_cos
    - day_of_week_sin
    - day_of_week_cos
    - day_of_month_sin
    - day_of_month_cos
    # Month and day_of_year features removed (not useful for single-month data)
    
    # Temporal binary indicators
    - is_weekend
    - is_weekday
    - is_morning
    - is_afternoon
    - is_evening
    - is_night
    - is_rush_morning
    - is_rush_evening
    - is_rush_hour
    - is_first_week
    - is_last_week
    - is_mid_month
    
    # Weather-derived features
    - temperature_humidity_index
    - heat_index
    - wind_chill
    - dew_point_depression
    - pressure_gradient
    - is_rainy
    - is_heavy_rain
    - is_windy
    - is_very_windy
    - is_cloudy
    - is_overcast
    - wind_u
    - wind_v
    - wind_direction_sin
    - wind_direction_cos
    
    # Interaction features
    - rain_speed_interaction
    - wind_speed_interaction
    - temp_speed_interaction
    - rain_length_interaction
    - wind_length_interaction
    - temp_humidity_interaction
    - pressure_temp_interaction
    
    # Rolling features (RECOMMENDED for single-month data)
    # These provide temporal context when you have limited time range
    # Uncomment these if you ran with rolling features enabled
    - current_speed_rolling_mean_3h
    - current_speed_rolling_std_3h
    - current_speed_lag_1h
    - current_speed_diff_1h
    - speed_ratio_rolling_mean_3h
    - speed_ratio_rolling_std_3h
    - speed_ratio_lag_1h
    - speed_ratio_diff_1h
    - temperature_2m_rolling_mean_3h
    - temperature_2m_rolling_std_3h
    - temperature_2m_lag_1h
    - temperature_2m_diff_1h
    - rain_rolling_mean_3h
    - rain_rolling_std_3h
    - rain_lag_1h
    - rain_diff_1h
    - wind_speed_10m_rolling_mean_3h
    - wind_speed_10m_rolling_std_3h
    - wind_speed_10m_lag_1h
    - wind_speed_10m_diff_1h
    
  categorical_features:
    - weekday
    - period
    - street_type
    - street_level
    
  prediction_horizons: [1,2,3]
  sequence_length: 8
  train_ratio: 0.7
  val_ratio: 0.15
  resample_rule: 1h

model:
  rnn_type: lstm
  hidden_dim: 256
  num_layers: 2
  dropout: 0.3
  bidirectional: true
  time_embedding_dim: 32  # set to integer (e.g. 8) to enable hour-of-day embeddings
  segment_embedding_dim: 32  # set to integer (e.g. 16) to enable segment embeddings

optimization:
  batch_size: 128
  learning_rate: 0.001
  weight_decay: 0.0001
  gradient_clip_norm: 1.0

training:
  epochs: 40
  num_workers: 4
  device: cuda

logging:
  wandb_project: traffic-weather
  wandb_entity: your_entity
  wandb_run_name: lstm-engineered-features
  wandb_mode: disabled

early_stopping:
  early_stopping_patience: 5
  early_stopping_delta: 0.0

checkpoint:
  checkpoint_every: 1
  save_optimizer_state: true
